# Техническое задание на разработку серверной части интернет-магазина
## 1. Введение
### 1.1. Назначение документа
Настоящий документ описывает технические требования, архитектуру и спецификации для разработки серверной части (backend) интернет-магазина с использованием современных технологий и инструментов.

### 1.2. Цели проекта
Создание масштабируемого, отказоустойчивого бэкенда для интернет-магазина
Обеспечение высокой производительности и доступности
Реализация модульной архитектуры для легкого сопровождения
Интеграция с внешними платежными системами
Обеспечение асинхронной обработки задач

## 2. Общая архитектура
### 2.1. Технологический стек
Backend Framework: NestJS
Язык программирования: TypeScript
База данных: PostgreSQL
ORM: Prisma
Кэширование: Redis
Очереди сообщений: RabbitMQ
Стриминг событий: Apache Kafka
Платежная система: YooKassa
Контейнеризация: Docker & Docker Compose
CI/CD: GitHub Actions/GitLab CI (опционально)

### 2.2. Архитектурный стиль
Микросервис-ориентированная архитектура с высокой степенью декомпозиции и изоляции
Docker Compose — как единый оркестратор для локальной разработки.
Корневой .env файл — как централизованный источник конфигурации.

RESTful API + GraphQL (опционально для административной панели)
Event-Driven Architecture для асинхронных операций

## 3. Функциональные требования
### 3.1. Модуль пользователей (User Module)
```
// Примерная структура сервиса(с возможными изменениями и дополнениями)
- Регистрация/авторизация (JWT)
- Управление профилем
- История заказов
- Список избранного
- Роли: пользователь, админ, модератор 
```
### 3.2. Модуль каталога товаров (Catalog Module)
```
- CRUD операции для товаров
- Категории и подкатегории
- Фильтрация и поиск
- Пагинация
- Рейтинг и отзывы
- Атрибуты товаров
```
### 3.3. Модуль корзины (Cart Module)
```
- Добавление/удаление товаров
- Обновление количества
- Промокоды и скидки
- Сохранение корзины (Redis)
```
### 3.4. Модуль заказов (Order Module)
```
- Создание заказа
- История заказов
- Статусы заказа
- Отмена заказа
- Уведомления о статусе (Kafka Events)
```
### 3.5. Платежный модуль (Payment Module)
```
- Интеграция с YooKassa
- Обработка webhook-ов
- История платежей
- Возвраты средств
```
### 3.6. Модуль доставки (Shipping Module)
```
- Расчет стоимости доставки
- Трекинг заказов
- Интеграция со службами доставки
```
### 3.7. Аналитический модуль (Analytics Module)
```
- Сбор метрик
- Отчеты по продажам
- Популярные товары
```
